import "./App.css";
import { useState, useRef, useEffect } from "react";
import UserList from "./UserList";
// function Sorting(props) {

//   const elements = props;
//   console.log(props);
//   elements.sort();
//   return (
//     elements
//   );
// }

// props ëŠ” í”„ë¡œí¼í‹°ì˜ ì¤„ì„ë§
function Article(props) {
  // stateëŠ” ë³€ìˆ˜ëŒ€ì‹ ì— ì“°ëŠ” ë°ì´í„° ì €ì¥ê³µê°„
  // stateëŠ” ë³€ê²½ë˜ë©´ HTML ì´ ìë™ìœ¼ë¡œ ì¬ ë Œë”ë§ ëœë‹¤!!!! ë”°ë¼ì„œ ì•±ê°™ì€ ë™ì‘ì´ ì”¹ê°€ëŠ¥
  // [state ë°ì´í„° , state ë°ì´í„° ë³€ê²½í•¨ìˆ˜]
  let [title, usetitle] = useState(props.name);
  let [date, usedate] = useState(props.date);
  let [like, uselike] = useState(0);

  function Titlechange(props) {
    // ìˆ˜ì •ëœ [ë°ì´í„°]ë¥¼ ë§Œë“ ë‹¤ ì›ë³¸ state ìˆ˜ì • x
    // state ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ì„œ ìˆ˜ì •í•˜ì„¸ìš” == ì¤‘ìš”í•œ ë¦¬ì•¡íŠ¸ì˜ ì „í†µì ì¸ ê´€ìŠµ ì…ë‹ˆë‹¤.
    // ì´ë•Œ state ë¥¼ deep copy í•´ì„œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. [...] ì‚¬ìš©
    var newArr = [...title];
    newArr = "ì—¬ì ì½”íŠ¸ ì¶”ì²œ";
    usetitle(newArr);
  }

  return (
    <article>
      <div className="list">
        <h3>
          {" "}
          {title}{" "}
          <span
            onClick={() => {
              uselike(like + 1);
            }}
          >
            ğŸ‘
          </span>
          {like}
          <br></br>
          <br></br>
          <input></input>
          <button
            onClick={() => {
              Titlechange();
            }}
          >
            ì´ë¦„ë³€ê²½ ë²„íŠ¼
          </button>
        </h3>
        <p>{date} ë°œí–‰</p>
        <hr></hr>
      </div>
    </article>
  );
}
// ì»´í¬ë„ŒíŠ¸ ìœ ì˜ì‚¬í•­ 1. ì´ë¦„ì€ ëŒ€ê´„í˜¸ 2. return ì•ˆì—ëŠ” í•˜ë‚˜ì˜ íƒœê·¸ë§Œ (ë¶€ëª¨íƒœê·¸ëŠ” í•˜ë‚˜ë§Œ!!)
// ë°˜ë³µì¶œí˜„í•˜ëŠ” HTML ë©ì–´ë¦¬ë“¤ , ì¬ ëœë”ë§ì´ë§ì´ ì¼ì–´ë‚˜ëŠ” HTML UI ë“¤ , ë‹¤ë¥¸ í˜ì´ì§€ ë§Œë“¤ë•Œ
function Modal(props) {
  return (
    <div>
      <div className="modal">
        <h2>{props.title}</h2>
        <p>{props.date}</p>
        <p>{props.article}</p>
      </div>
    </div>
  );
}

function App() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState();
  const inputRef = useRef();
  const rendercount = useRef(0);

  // useEffet í•¨ìˆ˜ëŠ” ì²˜ìŒ ëœë”ë§ ì‹œì‘ì‹œ ë¬´ì¡°ê±´ í•œë²ˆ ì‹¤í–‰ë˜ê³ 
  // ë°°ì—´ì˜ state ì¸ìê°€ ë°”ë€”ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤ ë¹ˆë°°ì—´ì´ë©´ ì‹¤í–‰ x
  useEffect(() => {
    console.log("ì²« ëœë”ë§ë§Œ ì‹¤í–‰ DOC ë¥¼ìœ„í•´ ì‚¬ìš©");
    inputRef.current.focus();
  }, []);

  useEffect(() => {
    rendercount.current = rendercount.current + 1;
    console.log("í˜„ì¬ ëœë”ì¹´ìš´íŠ¸ " + rendercount.current);
  }, [name, count]);

  return (
    // ì´ë¦„ì—†ì´ ì‘ì„±í•œ Fragment ë¥¼ ì‚¬ìš©í•´ì„œ ê°ì‹¼ë‹¤!
    <>
      <div>
        <p>{count}</p>
        <button
          onClick={() => {
            setCount(count + 1);
          }}
        >
          +1
        </button>
        <button
          onClick={() => {
            setCount(count - 1);
          }}
        >
          -1
        </button>
        <br></br>
        <input
          ref={inputRef}
          type="text"
          placeholder="Username"
          onChange={(e) => {
            setName(e.target.value);
          }}
        ></input>

        <button
          onClick={() => {
            alert("í™˜ì˜í•©ë‹ˆë‹¤" + inputRef.current.value);
            inputRef.current.focus();
          }}
        >
          ë¡œê·¸ì¸
        </button>
        <br></br>
        <span>name : {name}</span>

        <br></br>
        <UserList></UserList>
      </div>
    </>
  );
}
export default App;
